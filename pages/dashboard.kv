#:kivy 2.3.0

<CommonNavigationRailItem>:

   MDNavigationRailItemIcon:
      icon: root.icon

   MDNavigationRailItemLabel:
      text: root.text

<Dashboard>:
   name: "Dashboard"
# Hintergrundbild
   Image:
      source: 'resources/bg.png'
      fit_mode: "fill"

   MDBoxLayout:
      MDNavigationRail:
         anchor: "top"
         type: "labeled"

         MDNavigationRailMenuButton:
            icon: "menu"

         MDNavigationRailFabButton:
            icon: "home"

         CommonNavigationRailItem:
            icon: "account-circle"
            text: "Profil"
            on_release: app.root.current = "Profil"

         CommonNavigationRailItem:
            icon: "star-box-outline"
            text: "Favoriten"

         CommonNavigationRailItem:
            icon: "file-document-outline"
            text: "Meine Rezepte"

         CommonNavigationRailItem:
            icon: "file-document-plus-outline"
            text: "Rezept Hinzufügen"

         CommonNavigationRailItem:
            icon: "text-box-search-outline"
            text: "Rezept Suche"

   MDBoxLayout:
      orientation: 'horizontal'
      size_hint: 0.5, 0.05
      pos_hint: {'center_x': 0.5,'center_y': 0.95}

      MDTextField:
         mode: "filled"
         id: search_recipe
         MDTextFieldLeadingIcon:
            icon: "magnify"
         MDTextFieldHintText:
            text: "Suchbegriff eingeben"
      MDButton:
         style: "elevated"
         pos_hint: {'center_x': 0.3, 'center_y': 0.5}
         on_release: root.search_recipe()
         on_release: app.root.current = "Search"
         MDButtonIcon:
            icon: "magnify"
         MDButtonText:
            text: "Suchen"
   
   MDGridLayout:
      cols: 3
      size_hint: 0.5,0.5
      spacing: '10dp'
      pos_hint: {'center_x': 0.5,'center_y': 0.6}

# Rezept des Tages SmartTile
      MDSmartTile:
         pos_hint: {"center_x": .5, "center_y": .5}
         size_hint: None, None
         size: "320dp", "320dp"
         overlap: True

         MDSmartTileImage:
            source: "resources/low-carb-big-mac-rolle.webp"
            radius: [dp(24), dp(24), dp(24), dp(24)]

         MDSmartTileOverlayContainer:
            md_bg_color: 0, 0, 0, .5
            adaptive_height: True
            padding: "8dp"
            spacing: "8dp"
            radius: [0, 0, dp(24), dp(24)]

            MDIconButton:
               icon: "sun-clock"
               theme_icon_color: "Custom"
               icon_color: 1, 0, 0, 1
               pos_hint: {"center_y": .5}
               on_release:
                  self.icon = "heart" \
                  if self.icon == "heart-outline" else \
                  "heart-outline"

            MDLabel:
               text: "Rezept des Tages"
               theme_text_color: "Custom"
               text_color: "white"

# Neustes Rezept SmartTile
      MDSmartTile:
         pos_hint: {"center_x": .5, "center_y": .5}
         size_hint: None, None
         size: "320dp", "320dp"
         overlap: True

         MDSmartTileImage:
            source: 
            radius: [dp(24), dp(24), dp(24), dp(24)]

         MDSmartTileOverlayContainer:
            md_bg_color: 0, 0, 0, .5
            adaptive_height: True
            padding: "8dp"
            spacing: "8dp"
            radius: [0, 0, dp(24), dp(24)]

            MDIconButton:
               icon: "autorenew"
               theme_icon_color: "Custom"
               icon_color: 1, 0, 0, 1
               pos_hint: {"center_y": .5}
               on_release:
                  self.icon = "heart" \
                  if self.icon == "heart-outline" else \
                  "heart-outline"

            MDLabel:
               text: "Neustes Rezept"
               theme_text_color: "Custom"
               text_color: "white"

# Neustes Rezept SmartTile
      MDSmartTile:
         pos_hint: {"center_x": .5, "center_y": .5}
         size_hint: None, None
         size: "320dp", "320dp"
         overlap: True

         MDSmartTileImage:
            source: "resources/zucchini-lasagne.webp"
            radius: [dp(24), dp(24), dp(24), dp(24)]

         MDSmartTileOverlayContainer:
            md_bg_color: 0, 0, 0, .5
            adaptive_height: True
            padding: "8dp"
            spacing: "8dp"
            radius: [0, 0, dp(24), dp(24)]

            MDIconButton:
               icon: "alarm"
               theme_icon_color: "Custom"
               icon_color: 1, 0, 0, 1
               pos_hint: {"center_y": .5}
               on_release:
                  self.icon = "heart" \
                  if self.icon == "heart-outline" else \
                  "heart-outline"

            MDLabel:
               text: "Zufälliges Rezept"
               theme_text_color: "Custom"
               text_color: "white"
